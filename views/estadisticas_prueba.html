{% extends "layout.html" %}
{% block body %}

<br>
<br>
<br>
<br>
<select name="opciones" id="opciones-dropdown">
  <option value="opcion1">Ganancias totales</option>
  <option value="opcion2">Ganancias por instrumento</option>
  <option value="opcion3">Cantidad de servicios</option>
  <!-- Agrega más opciones según sea necesario -->
</select>
<h1>ESTADISTICAS</h1>
<!--NOMBRE DE LAS ESTADISTICAS QUE SE ESTA MOSTRANDO-->

<canvas id="myChart"></canvas>
<br>
<br>
<!--TABLA CON RESUMEN DE TODOS LOS DATOS-->
<!-- MES GANANCIA-->
{{data}}
{{gananciasPorAnio}}
<br>
<br>



<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="
https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js
"></script>
<script>
  const ctx = document.getElementById('myChart');


let data = {
  //labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6'], //datos del eje x
  datasets: [
    {
      label: '{{datasetName}}', //datos mostrados en la grafica
      data: {{ gananciasPorAnio | dump | safe }}, // datos del eje y
      borderColor: "#024164",
      backgroundColor: "#024164",
      pointStyle: 'circle',
      pointRadius: 10,
      pointHoverRadius: 15
    }
  ]
};
let config = {
  type: 'line',
  data: data,
  options: {
    responsive: true,
    plugins: {
      title: {
        display: true,
        text: '{{tituloGrafica}}', //titulo de la grafica
      }
    }
  }
};

  let grafica = new Chart(ctx, config);

    document.getElementById('randomizeData').addEventListener('click', () => {
        grafica.destroy();
    });
    
</script>
{% endblock %}